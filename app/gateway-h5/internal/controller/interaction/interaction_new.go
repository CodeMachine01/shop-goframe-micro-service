// =================================================================================
// This is auto-generated by GoFrame CLI tool only once. Fill this file as you wish.
// =================================================================================

package interaction

import (
	"github.com/gogf/gf/contrib/rpc/grpcx/v2"
	"shop-goframe-micro-service/app/gateway-h5/api/interaction"
	collection_info "shop-goframe-micro-service/app/interaction/api/collection_info/v1"
	comment_info "shop-goframe-micro-service/app/interaction/api/comment_info/v1"
	praise_info "shop-goframe-micro-service/app/interaction/api/praise_info/v1"
	"shop-goframe-micro-service/utility/middleware"
)

type ControllerV1 struct {
	PraiseInfoClient     praise_info.PraiseInfoClient
	CommentInfoClient    comment_info.CommentInfoClient
	CollectionInfoClient collection_info.CollectionInfoClient
}

func NewV1() interaction.IInteractionV1 {
	var conn = grpcx.Client.MustNewGrpcClientConn("interaction", grpcx.Client.ChainUnary(
		middleware.GrpcClientTimeout, //超时处理，避免网络异常导致业务网关无限卡死
	))

	return &ControllerV1{
		CollectionInfoClient: collection_info.NewCollectionInfoClient(conn),
		PraiseInfoClient:     praise_info.NewPraiseInfoClient(conn),
		CommentInfoClient:    comment_info.NewCommentInfoClient(conn),
	}
}
